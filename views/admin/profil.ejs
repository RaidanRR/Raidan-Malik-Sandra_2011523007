<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="UTF-8">
    <title>Profil</title>
    <link rel="stylesheet" href="/css/style-admin.css">
    <link href="/vendor/sweetalert2.all.min.css" rel="stylesheet">
    <script src="/vendor/sweetalert2.all.min.js"></script>
    <link href='https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css' rel='stylesheet'>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/simple-datatables@latest/dist/style.css" rel="stylesheet" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  </head>
  <body>
    <%- include('../partials/sidebar'); -%>

    <div id="container">
      <div class="jumbotron">
        <br />
        <h4>Profil admin</h4>
        <div class="mb-3">
          <div class="profile-picture">
            <img src="/images/<%=user.foto%>" alt="Profile Picture" style="width: 110px;height: 110px;object-fit: cover;margin-left: auto; margin-right: auto;">
          </div>
        </div>
        <form class="mb-3" action="/admin/profil-edit/<%= user.id %>" method="POST" enctype="multipart/form-data" onsubmit="return success(event)">
          <div class="mb-3" >
            <label for="foto" class="form-label"></label>
            <input type="file" class="form-control" id="foto" name="foto" value="<%= user.foto %>"required>
          </div>
            <button class="btn btn-warning " type="submit" >Simpan</button>
        </form>
        <div class="mb-3">
          <label for="name" class="form-label">Nama Admin</label>
          <input type="text" class="form-control" id="name" name="name" value="<%= user.name %>" readonly>
        </div>
        <div class="mb-3">
          <label for="Email" class="form-label">Email</label>
          <input type="text" class="form-control" id="Email" name="Email" value="<%= user.email %>" readonly>
        </div>
        <div class="mb-3">
          <label for="phone" class="form-label">Nomor Telepon</label>
          <input type="text" class="form-control" id="phone" name="phone" value="<%= user.phone %>" readonly>
        </div>
        
        <div class="mb-3">
          <label for="bidang" class="form-label">Bidang Keahlian</label>
          <input type="text" class="form-control" id="bidang" name="bidang" value="<%= user.bidang %>" readonly>
        </div>
        <div class="mb-3">
          <label for="gelar" class="form-label">Gelar Akademik</label>
          <input type="text" class="form-control" id="gelar" name="gelar" value="<%= user.gelar %>" readonly>
        </div>
        <div class="mb-3">
          <label for="fakultas" class="form-label">Fakultas</label>
          <input type="text" class="form-control" id="fakultas" name="fakultas" value="<%= user.fakultas %>" readonly>
        </div>
        <div class="mb-3">
          <label for="jurusan" class="form-label">Departemen</label>
          <input type="text" class="form-control" id="jurusan" name="jurusan" value="<%= user.jurusan %>" readonly>
        </div>
        <div class="mb-3">
          <label for="jabatan" class="form-label">Jabatan</label>
          <input type="text" class="form-control" id="jabatan" name="jabatan" value="<%= user.jabatan %>" readonly>
        </div>
        <a href="/admin/profil-edit/<%= user.id %>"><button class="btn btn-success btn-lg back mb-3">Edit Profil</button></a>
      </div>
    </div>
    <script>
      function success(event) {
        event.preventDefault(); 
        Swal.fire({
          title: "Good job!",
          text: "Data saved",
          icon: "success"
        }).then(function() {
          event.target.submit(); 
        }).catch((error) => console.log(error));
        return false; 
      }
    </script>

    <%- include('../partials/footer'); -%>
  </body>
</html>
