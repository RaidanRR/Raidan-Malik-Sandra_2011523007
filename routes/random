const express = require("express");
const router = express.Router();
const { getAllCoursePlan, getCourseMahasiswa, search, cetakRpsMahasiswa } = require("../controller/course_plan");

// Endpoint to serve static files
router.use(express.static("public"));

// Render DashboardMahasiswa.ejs on /mahasiswa
router.get("/mahasiswa", (req, res) => {
  const data = {
    namaMahasiswa: 'Nama Mahasiswa',
    nimMahasiswa: '1234567890',
    namaDosen: 'Nama Dosen'
  };
  res.render("DashboardMahasiswa", data);
});

router.get("/home", (req, res) => {
  res.render("mahasiswa/home");
});

router.get("/cari", search);
router.get("/coursesPlan/:id/:rev", getCourseMahasiswa);
router.get("/coursesPlan", getAllCoursePlan);
router.get("/:id/:rev/cetakRps", cetakRpsMahasiswa);

module.exports = router;
